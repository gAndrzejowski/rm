(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1052:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.GET_MOVIES="get movies",a=t.SORT_MOVIES="sort movies",o=t.SET_CURRENT_MOVIE="set current movie",u=t.SET_SEARCH_CRITERION="set search criterion",c=t.SET_SEARCH_TXT="set search txt",i=t.HYDRATE_STORE="hydrate store";t.default={GET_MOVIES:n,SORT_MOVIES:a,SET_SEARCH_CRITERION:u,SET_CURRENT_MOVIE:o,SET_SEARCH_TXT:c,HYDRATE_STORE:i}},1053:function(e,t,r){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var u=t[a](o),c=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(c).then(function(e){n("next",e)},function(e){n("throw",e)});e(c)}("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var a,o,u=t.swaggerBase="http://react-cdp-api.herokuapp.com",c=t.swagger=(a=n(regeneratorRuntime.mark(function e(){var t,r,n,a,o,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.sortBy,r=c.sortOrder,n=c.search,a=c.searchBy,e.next=3,fetch(u+"/movies?search="+(n||"")+"&searchBy="+(a||"title")+"&sortBy="+(t||"title")+"&sortOrder="+(r||"desc"));case 3:return o=e.sent,e.abrupt("return",o.json());case 5:case"end":return e.stop()}},e,void 0)})),function(){return a.apply(this,arguments)});t.single=(o=n(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u+"/movies/"+t);case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}},e,void 0)})),function(e){return o.apply(this,arguments)});t.default=c},1054:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getById=t.getByGenre=t.searchAndSort=t.searchMovies=void 0;var n=r(1053),a=r(674);function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var u=t[a](o),c=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(c).then(function(e){n("next",e)},function(e){n("throw",e)});e(c)}("next")})}}var u,c,i,s,l=t.searchMovies=(u=o(regeneratorRuntime.mark(function e(t,r){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.swagger)({search:t,searchBy:r});case 2:return o=e.sent,e.abrupt("return",(0,a.getMovies)(o.data));case 4:case"end":return e.stop()}},e,void 0)})),function(e,t){return u.apply(this,arguments)});t.searchAndSort=(c=o(regeneratorRuntime.mark(function e(t,r,o){var u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.swagger)({sortBy:t,search:r,searchBy:o});case 2:return u=e.sent,e.abrupt("return",(0,a.sortMovies)(t,u.data));case 4:case"end":return e.stop()}},e,void 0)})),function(e,t,r){return c.apply(this,arguments)}),t.getByGenre=(i=o(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.swagger)({search:t,searchBy:"genres"});case 2:return r=e.sent,e.abrupt("return",(0,a.getMovies)(r.data));case 4:case"end":return e.stop()}},e,void 0)})),function(e){return i.apply(this,arguments)}),t.getById=(s=o(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.single)(t);case 2:return r=e.sent,e.abrupt("return",(0,a.setCurrentMovie)(r));case 4:case"end":return e.stop()}},e,void 0)})),function(e){return s.apply(this,arguments)});t.default=l},1055:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapDispatchToProps=t.mapStateToProps=t.SearchBox=void 0;var n=r(1),a=f(n),o=r(732),u=r(591),c=f(r(684)),i=r(1054),s=r(674),l=f(r(673));function f(e){return e&&e.__esModule?e:{default:e}}var d=t.SearchBox=function(e){var t=e.searchBy,r=e.query,o=e.search,c=e.onQueryChange,i=e.onCriterionChosen,s=e.classes;return a.default.createElement(n.Fragment,null,a.default.createElement("h2",null,"Find your movie"),a.default.createElement("input",{className:s.searchInput,type:"text",placeholder:"title"===t?"Kill Bill":"Action",onChange:c,value:r}),a.default.createElement("div",{className:s.controls},a.default.createElement("div",{className:s.controls},"Search by",a.default.createElement("button",{onClick:function(){return i("title")},className:"title"===t?s.btnActive:s.btnInactive},"title"),a.default.createElement("button",{onClick:function(){return i("genres")},className:"genres"===t?s.btnActive:s.btnInactive},"genre")),a.default.createElement(u.Link,{href:"/search/"+t+"/"+r,to:"/search/"+t+"/"+r},a.default.createElement("button",{className:s.search,onClick:function(){return o(r,t)}},"Search"))))};d.defaultProps={query:"",classes:{}};var h=t.mapStateToProps=function(e){return{query:e.heading.search,searchBy:e.heading.by}},p=t.mapDispatchToProps=function(e){return{onQueryChange:function(t){return e((0,s.setSearchTxt)(t.target.value))},onCriterionChosen:function(t){return e((0,s.setSearchCriterion)(t))},search:(t=regeneratorRuntime.mark(function t(r,n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,(0,i.searchMovies)(r,n);case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}},t,void 0)}),r=function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(a,o){try{var u=e[a](o),c=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(c).then(function(e){n("next",e)},function(e){n("throw",e)});t(c)}("next")})},function(e,t){return r.apply(this,arguments)})};var t,r};t.default=(0,o.connect)(h,p)((0,c.default)(l.default)(d))},1098:function(e,t,r){"use strict";(function(e){var t=s(r(1)),n=r(690),a=s(r(684)),o=r(177),u=r(591),c=r(1055),i=s(r(673));function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,a.default)(i.default)(c.SearchBox);(0,n.storiesOf)("Search Box",e).add("empty",function(){return t.default.createElement(u.StaticRouter,{context:{}},t.default.createElement("div",null,t.default.createElement(l,{searchBy:"title",onQueryChange:(0,o.action)("query changed"),onCriterionChosen:(0,o.action)("change search criteria"),search:(0,o.action)("search")})))}).add("filled out",function(){return t.default.createElement(u.StaticRouter,{context:{}},t.default.createElement("div",null,t.default.createElement(l,{searchBy:"genre",query:"Action",onQueryChange:(0,o.action)("query changed"),onCriterionChosen:(0,o.action)("change search criteria"),search:(0,o.action)("search")})))})}).call(this,r(159)(e))},1099:function(e,t,r){var n={"./searchBox.stories.js":1098};function a(e){var t=o(e);return r(t)}function o(e){var t=n[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=1099},1319:function(e,t,r){"use strict";(function(e){r(1318);var t=r(690),n=r(1099);(0,t.configure)(function(){n.keys().forEach(function(e){return n(e)})},e)}).call(this,r(159)(e))},1321:function(e,t,r){r(584),r(1320),e.exports=r(1319)},673:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return{cursor:"pointer",color:"white",textTransform:"uppercase",textAlign:"center",display:"block",backgroundColor:e,marginLeft:10,border:"none",padding:[".2em","1ch"],userSelect:"none",outline:"none"}},a={"btnActive, search":n("firebrick"),btnInactive:n("grey"),controls:{display:"flex",justifyContent:"space-between",alignItems:"center"},searchInput:{width:"100%",color:"white",background:"#000",padding:"1em",border:"none",borderBottom:[3,"solid","firebrick"],marginBottom:"1em"}};t.default=a},674:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyPreloaded=t.hydrateStore=t.setSearchTxt=t.setCurrentMovie=t.setSearchCriterion=t.sortMovies=t.getMovies=void 0;var n=r(1052);t.getMovies=function(e){return{type:n.GET_MOVIES,payload:e}},t.sortMovies=function(e,t){return{type:n.SORT_MOVIES,by:e,results:t}},t.setSearchCriterion=function(e){return{type:n.SET_SEARCH_CRITERION,criterion:e}},t.setCurrentMovie=function(e){return{type:n.SET_CURRENT_MOVIE,movie:e}},t.setSearchTxt=function(e){return{type:n.SET_SEARCH_TXT,txt:e}},t.hydrateStore=function(){var e=window&&window.localStorage?JSON.parse(window.localStorage.getItem("netflixRouletteStore")):null;return{type:n.HYDRATE_STORE,retrievedStore:e||{}}},t.applyPreloaded=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:n.HYDRATE_STORE,retrievedStore:e}}}},[[1321,1,2]]]);
//# sourceMappingURL=preview.0d89d5ef2abe22fab8cc.bundle.js.map